[gd_scene load_steps=17 format=3 uid="uid://btuw2i28k0axl"]

[ext_resource type="PackedScene" uid="uid://bk60c4813t663" path="res://world/levels/level_base.tscn" id="1_p0tjl"]
[ext_resource type="Resource" uid="uid://ebi2mrpur7b6" path="res://world/floor/rock/rock.tres" id="3_lkd7d"]
[ext_resource type="Texture2D" uid="uid://ba2eoskeemjii" path="res://world/backgrounds/cave_pillars.png" id="4_uml48"]
[ext_resource type="PackedScene" uid="uid://rberd5xw8srm" path="res://world/transitions/transition.tscn" id="4_yl5fl"]
[ext_resource type="Shader" uid="uid://dkevhqou14lto" path="res://world/backgrounds/dark_plane.gdshader" id="5_lw5uw"]
[ext_resource type="Script" uid="uid://cjhe4i28xn2ne" path="res://world/backgrounds/background.gd" id="7_6otf1"]
[ext_resource type="PackedScene" uid="uid://bb3qdjspo0kcq" path="res://world/Intereactables/Barrel.tscn" id="7_7mnxm"]
[ext_resource type="PackedScene" uid="uid://dxdkwdigtcn43" path="res://world/enemy/test/enemy_test.tscn" id="7_v2m6r"]
[ext_resource type="Texture2D" uid="uid://48dfxh6s6pk2" path="res://world/backgrounds/cavern_bg.png" id="8_6otf1"]
[ext_resource type="PackedScene" uid="uid://dtqb8q8qomq31" path="res://world/pickups/corrupt_heart/blood_particles/blood_burst.tscn" id="8_v2m6r"]
[ext_resource type="PackedScene" uid="uid://c8a3ul47e6b2y" path="res://world/interactables/cover/cover_boulder.tscn" id="11_lw5uw"]
[ext_resource type="PackedScene" uid="uid://crroyl2puavcb" path="res://world/decoration/floor_lantern/floor_lantern.tscn" id="12_shw0w"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_shw0w"]
render_priority = 0
shader = ExtResource("5_lw5uw")
shader_parameter/depth_start = -0.1
shader_parameter/depth_range = 1.5

[sub_resource type="PlaneMesh" id="PlaneMesh_uml48"]
size = Vector2(1000, 1000)

[sub_resource type="NavigationMesh" id="NavigationMesh_hxoc3"]
vertices = PackedVector3Array(0, 0.5, 4.5, 0, 0.5, 4, -1.75, 0.5, 3.75, -7.25, 0.5, 4.5, -1.75, 0.5, 2, 0, 0.5, 1.75, 0, 0.25, -3.25, -7.25, 0.25, -3.25, 1.75, 0.5, 3.75, 7, 0.5, 4.5, 1.75, 0.5, 2, 7, 0.5, 2.75, 8.75, 0.5, 2.5, 8.75, 0.25, -3.25, 15.75, 0.5, 1.5, 20.5, 0.5, 1.5, 20.5, 0.5, 0.75, 15.75, 0.5, 0.75, 10.5, 0.5, 2.75, 15.5, 0.25, -3.25, 15.5, 0.5, 4.5, 10.5, 0.5, 4.5)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(6, 5, 4), PackedInt32Array(6, 4, 7), PackedInt32Array(7, 4, 3), PackedInt32Array(4, 2, 3), PackedInt32Array(1, 8, 0), PackedInt32Array(0, 8, 9), PackedInt32Array(10, 5, 6), PackedInt32Array(10, 11, 8), PackedInt32Array(8, 11, 9), PackedInt32Array(12, 11, 13), PackedInt32Array(13, 11, 10), PackedInt32Array(13, 10, 6), PackedInt32Array(17, 16, 14), PackedInt32Array(14, 16, 15), PackedInt32Array(12, 13, 18), PackedInt32Array(18, 13, 17), PackedInt32Array(17, 13, 19), PackedInt32Array(14, 20, 17), PackedInt32Array(17, 20, 18), PackedInt32Array(18, 20, 21)]

[sub_resource type="Curve3D" id="Curve3D_hxoc3"]
closed = true
_data = {
"points": PackedVector3Array(-0.79925346, 0, 1.1016395, 0.79925346, 0, -1.1016395, -7.7055573, 0, -3.9079268, -1.283371, 0, -0.616333, 1.283371, 0, 0.616333, 15.428068, 0, -3.9784892, 0.15898514, 0, -0.7170719, -0.15898514, 0, 0.7170719, 16.032757, 0, -0.04988442, -0.33026695, 0, -1.0321295, 0.33026695, 0, 1.0321295, 20.974693, 0, 0.3364469, 0.13352203, 0, -0.28435802, -0.13352203, 0, 0.28435802, 20.897396, 0, 2.284358, 0.13913631, 0, -0.41740918, -0.13913631, 0, 0.41740918, 15.98124, 0, 1.9751656, 0.5598459, 0, -0.5154171, -0.5598459, 0, 0.5154171, 15.860613, 0, 5.0322595, 1.244214, 0, 1.496664, -1.244214, 0, -1.496664, -7.3523626, 0, 4.809549),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 8

[node name="DemoA" instance=ExtResource("1_p0tjl")]

[node name="Background" type="Node3D" parent="." index="0"]

[node name="Background" type="Sprite3D" parent="Background" index="0"]
transform = Transform3D(0.19358575, 0, 0, 0, 0.12623695, 0.14676403, 0, -0.14676403, 0.12623695, 2.5613499, -14.898792, -12.023702)
cast_shadow = 0
modulate = Color(0.57700837, 0.5770084, 0.57700825, 1)
transparent = false
fixed_size = true
texture = ExtResource("8_6otf1")
script = ExtResource("7_6otf1")

[node name="Sprite3D" type="Sprite3D" parent="Background" index="1"]
transform = Transform3D(0.82327837, 0, 0, 0, 0.7129799, 0.41163918, 0, -0.41163918, 0.7129799, -0.7102566, 0.75300074, -10.228249)
cast_shadow = 0
texture = ExtResource("4_uml48")

[node name="Sprite3D5" type="Sprite3D" parent="Background" index="2"]
transform = Transform3D(1.4397194, 0, 0, 0, 1.2468336, 0.7198597, 0, -0.7198597, 1.2468336, -16.328514, 2.064618, -8.007566)
cast_shadow = 0
texture = ExtResource("4_uml48")

[node name="Sprite3D6" type="Sprite3D" parent="Background" index="3"]
transform = Transform3D(1.5351653, 0, 0, 0, 1.3294921, 0.76758265, 0, -0.76758265, 1.3294921, -8.363059, 2.4971895, 8.102038)
cast_shadow = 0
texture = ExtResource("4_uml48")

[node name="Sprite3D7" type="Sprite3D" parent="Background" index="4"]
transform = Transform3D(1.4397194, 0, 0, 0, 1.2468336, 0.7198597, 0, -0.7198597, 1.2468336, 14.803475, 0.3832116, 8.109494)
cast_shadow = 0
texture = ExtResource("4_uml48")

[node name="Sprite3D4" type="Sprite3D" parent="Background" index="5"]
transform = Transform3D(1.9160607, 0, 0, 0, 1.6593572, 0.95803034, 0, -0.95803034, 1.6593572, -12.433052, 2.5884995, -22.09974)
cast_shadow = 0
texture = ExtResource("4_uml48")

[node name="Sprite3D2" type="Sprite3D" parent="Background" index="6"]
transform = Transform3D(2.3080032, 0, 0, 0, 1.9987893, 1.1540016, 0, -1.1540016, 1.9987893, 12.0422325, 2.4135551, -22.598942)
cast_shadow = 0
texture = ExtResource("4_uml48")

[node name="Sprite3D3" type="Sprite3D" parent="Background" index="7"]
transform = Transform3D(1.2705362, 0, 0, 0, 1.1003165, 0.6352681, 0, -0.6352681, 1.1003165, 19.756937, 1.4512639, -12.199051)
cast_shadow = 0
texture = ExtResource("4_uml48")

[node name="DarkPlane" type="MeshInstance3D" parent="Background" index="8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
visible = false
material_override = SubResource("ShaderMaterial_shw0w")
mesh = SubResource("PlaneMesh_uml48")

[node name="Exit" parent="." index="2" instance=ExtResource("4_yl5fl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.351158, 0, 0.9043428)
target_scene = "uid://daq8dgkrqqghw"
target_entry_point = "Left"

[node name="World" parent="." index="3"]
navigation_mesh = SubResource("NavigationMesh_hxoc3")

[node name="Floor" parent="World" index="0"]
curve = SubResource("Curve3D_hxoc3")
material = ExtResource("3_lkd7d")

[node name="Right" type="Marker3D" parent="EntryPoints" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.214909, 0, 0.96318436)

[node name="BloodBurst" parent="." index="8" instance=ExtResource("8_v2m6r")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.812037, 4.0206768e-08, 0.9198234)

[node name="Barrel" parent="." index="10" instance=ExtResource("7_7mnxm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.1067781, 1.1097358, 0)

[node name="EnemyTest" parent="." index="11" instance=ExtResource("7_v2m6r")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.939002, 0, 0)
movement_speed = 0.0

[node name="Boulder" parent="." index="13" instance=ExtResource("11_lw5uw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.1497498, 0, -1.890513)

[node name="Boulder2" parent="." index="14" instance=ExtResource("11_lw5uw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.7385912, 0, 3.4624243)

[node name="Boulder3" parent="." index="15" instance=ExtResource("11_lw5uw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.027086, 0, -1.4749694)

[node name="FloorLantern" parent="." index="16" instance=ExtResource("12_shw0w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.084494, 4.7683716e-07, 2.5329204)

[node name="FloorLantern2" parent="." index="17" instance=ExtResource("12_shw0w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.5376377, 4.7683716e-07, 2.0982232)
